---
layout: single
title:  "[CHAP6] 데이터베이스 서비스 - 2"
categories: AWS
---

# 02. AWS에서 관계형 데이터베이스 사용

## * 관계형 데이터베이스 서비스 RDS

**Amazon Relational Database Service(RDS)**는 **관계형 데이터베이스**를 제공하는 서비스  
OS나 **데이터베이스 엔진**의 관리는 AWS 측에서 수행하므로 이용자는 몇 분 만에 데이터베이스를 생성해 이용할 수 있음  
EC2와 마찬가지로 종량 과금제이므로 RDS 인스턴스가 기동되는 시간만큼의 요금이 발생  
데이터베이스 엔진은 데이터베이스에 대한 데이터 **등록, 갱신, 삭제 처리를 관리하는 소프트웨어**  

* RDS가 지원하는 데이터베이스 엔진 (2022.11 기준)
  - MySQL
  - SQL Server
  - MariaDB
  - PostgreSQL
  - Oracle
  - Amazon
  - Aurora

이 중 **Amazon Aurora**는 AWS가 클라우드용으로 구축한 데이터베이스, MySQL 또는 PostgreSQL과 거의 동일하게 사용할 수 있게 두 가지 데이터베이스에 대한 호환성을 제공  
EC2나 온프레미스로 데이터베이스를 구축하면 사용자가 OS 설정이나 데이터베이스 엔진을 설치하고 설정해야 하므로 어느 정도 시간이 걸림  
하지만 RDS를 사용하면 데이터베이스 엔진이 설정된 상태로 만들어지므로 데이터베이스를 즉시 사용할 수 있음  
RDS에서 데이터베이스를 생성하기 위해 AWS 관리 콘솔을 이용하거나 API를 이용  
관리 콘솔을 이용하면 같이 사용할 엔진과 인스턴스 크기 등을 선택해 쉽게 데이터베이스를 생성할 수 있음  

* 입력할 내용
  - 데이터베이스 엔진, 버전
  - DB 인스턴스 식별자(이름)
  - 마스터 사용자 이름, 암호(로그인에 사용)
  - DB 인스턴스 클래스(인스턴스 유형, 머신 성능)
  - 스토리지 유형 설정(용량 및 성능 결정)
  - 다중 AZ 배포
  - 네트워크 설정(배치할 Amazon VPC 등)

필요한 정보를 입력하고 생성하면 초기화 작업이 진행되고 수 분 내에 데이터베이스를 사용할 수 있게 됨  


## * 데이터베이스 성능을 결정하는 인스턴스와 스토리치 유형

RDS도 EC2와 마찬가지로 선택한 **인스턴스**에 다라 성능이 달라짐  

* RDS 인스턴스 유형  
인스턴스의 성능(CPU, 메모리)은 인스턴스 크기를 선택해 결정  
인스턴스 크기의 명명 규칙  
```
db.m6g.large
```
db : db는 고정  
m : 패밀리 (메모리가 우선인지 범용인지에 따라 지정하는 문자열)  
6 : 세대 (숫자가 클수록 새롭고 고성능)  
g : 추가 기능 (Gravition2(CPU이름)의 g와 같이 인스턴스가 실행될 서버의 특징을 기재, 문자가 없는 종류도 있음)  
large : 크기 (크기가 클수록 고성능, 크기가 클수록 요금도 비쌈)  

이름 앞에 'db'가 고정된 것을 제외하고는 EC2와 동일한 규칙, 종량제 요금이며 시간당 단가는 인스턴스 크기에 따라 다름, 고사양으로 갈수록 비싸짐  

* 스토리지 유형
EBS와 마찬가지로 RDS에서도 데이터 저장을 위한 스토리지 설정을 할 수 있음  
데이터베이스는 데이터를 저장하는 것이 주된 목적이기 때문에 스토리지 선정이 매우 중요  

데이터를 저장하는 스토리지 유형  

|볼륨 유형|개요|
|---|---|
|범용 SSD|고성능으로 용량에 따라 읽기/쓰기 성능 결정|
|프로비저닝 IOPS SSD|고성능이며 지정한 읽기/쓰기 성능 확보|
|마그네틱 HDD|저렴한 비용|




> 참고 : 그림과 작동 원리로 쉽게 이해하는 AWS 구조와 서비스