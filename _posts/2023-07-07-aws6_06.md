---
layout: single
title:  "[CHAP6] 데이터베이스 서비스 - 6"
categories: AWS
---

# 06. 데이터베이스 마이그레이션에 도움이 되는 2가지 서비스

## * 데이터베이스 마이그레이션의 중요성

노후화된 기기를 교체하거나 처리 성능 향상을 위해 데이터베이스 엔진을 다른 기기로 옮기거나 변경하는 상황은 종종 발생함  
응용 프로그램을 AWS나 다른 서버로 마이그레이션하는 것은 크게 어렵지 않지만, 현재 가동 중인 서비스의 데이터베이스를 옮기는 것은 꽤 어렵고 복잡함  
시스템 마이그레이션을 할 때 데이터베이스 마이그레이션이 가장 어려우며 다운타임(서비스 중단 시간)에도 큰 영향을 미침  
* 온프레미스에서 마이그레이션 하는 경우 **네트워크의 속도**와 **안전정 보장**이 필수(모든 데이터가 제대로 전송되는지)  
* 다른 데이터베이스 엔진으로 마이그레이션하는 경우 **호환성** 이나 **데이터 타입 일치 여부** 확인 필요  
* 두 경우 모두 데이터가 많을수록 전송 시간 길어짐, 마이그레이션 중 응용 프로그램으로부터의 데이터 처리를 중지하지 않으면 데이터 불일치 발생  


## * AWS Database Migration Service

**AWS Database Migration Service(DMS)** 는 이름 그대로 데이터베이스를 마이그레이션하기 위한 서비스, 현재 데이터베이스에서 새로운 데이터베이스로 쉽게 데이터를 옮기는 역할  
단순 데이터를 옮기는 것뿐만 아니라 데이터 형식을 맞춰 옮겨주거나 마이그레이션 도중에 발생한 원본 데이터의 변경 내용도 추적해 반영할 수 있음  
마이그레이션이 완료된 후 데이터에 문제가 없는지 검증하는 기능도 제공  


## * AWS Schema Conversion Tool

데이터베이스의 데이터 구조를 **스키마** 라고 함, 데이터베이스 엔진마다 스키마 형식은 다른데, 스키마는 **데이터베이스 설계도** 라고도 함  
서로 다른 데이터베이스 엔진에 데이터를 마이그레이션할 때 데이터 자체를 옮기기 전에 먼저 스키마를 변환(기존 데이터베이스의 데이터를 새로운 데이터베이스의 데이터 형식에 맞게 변환)  
하는 작업이 필요  
스키마를 변환하기 위한 도구가 **AWS Schema Conversion Tool(SCT)**, SCT는 AWS가 제공하는 PC용 응용프로그램  
윈도우외에도 맥OS와 리눅스에 대응하며 SCT를 이용해 각 데이터베이스에 접속하면 자동으로 스키마변환을 할 수 있음  
마이그레이션을 진행하기 전 SCT를 사용해 스키마 변환에 대한 평가 보고서도 확인할 수 있음  
자동으로 마이그레이션이 불가능하다거나 기존 데이터베이스에서는 지원했지만 새로운 데이터베이스에서는 지원하지 못하는 기능과 같이 마이그레이션을 한 뒤 나타날 수 있는 문제점을 미리 확인할 수 있음  
Oracle에서 MySQL로 마이그레이션과 같이 다른 데이터베이스 엔진으로의 마이그레이션은 SCT와 DMS를 함께 사용

* 순서
1. **SCT**로 새로운 데이터베이스에 저장하기 위한 스키마 생성
2. 필요에 따라 수동으로 스키마를 수정
3. 생성한 스키마에 DMS로 데이터를 입력
4. DMS로 데이터가 완전하게 마이그레이션 됐는지 검증


> 참고 : 그림과 작동 원리로 쉽게 이해하는 AWS 구조와 서비스