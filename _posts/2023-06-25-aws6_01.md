---
layout: single
title:  "[CHAP6] 데이터베이스 서비스 - 1"
categories: AWS
---

# 01. 알아둬야 할 데이터베이스 기초 지식

## * 데이터의 집합체, 데이터베이스

**데이터베이스**란 검색이나 등록을 쉽게 할 수 있게 **정리되 넫이터 모음**임  
Amazon과 같은 인터넷 쇼핑을 이용할 때 등록하는 회원 정보는 사이트의 데이터베이스에 등록돼 관리됨  
데이터베이스는 응용 프로그램으로부터 데이터에 대해 업데이트, 참조, 삭제와 같은 작업을 요청받아 데이터를 처리함  
이렇게 데이터를 관리하는 시스템을 **데이터베이스 관리 시스템(DBMS, DataBase Management System)**라고 함  
오늘날 시스템에서 가장 많이 사용되는 데이터베이스는 **관계형 데이터베이스(RDB)**라는 표 형식의 데이터베이스  

|회원 ID|이름|주소|
|---|---|---|
|001|김민호|전라남도|
|002|양현|강원도|
|003|연구흠|충청도|
|004|최지혜|경기도|

하나의 표를 '테이블'이라는 단위로 관리, '관계형'이라는 용어처럼 여러 테이블이 관계성을 가지고 관리됨  
예를 들어 회원 테이블과 구매 테이블을 별도로 관리하지만 구매 정보를 관리하고자 할 때 관련된 테이블을 조합해 사용  
관계형 데이터베이스 외에도 AWS에는 '키' 와 '값'이라는 두 가지 요소를 조합해 키-값 형태로 관리하는 **NoSQL 데이터베이스** 서비스도 있음  


## * SQL로 조작하는 관계형 데이터베이스

관계형 데이터베이스의 데이터에 대해 일반적으로 추가, 검색, 업데이트 및 삭제하는 조작을 할 때 **SQL(Structured Query Language)**라는 언어를 사용  

1. SELECT (데이터 검색)
2. INSERT (데이터 추가)
3. UPDATE (데이터 갱신)
4. DELETE (데이터 삭제)

예를 들어 앞의 회원 정보 테이블에서 이름 정보를 전부 검색하는 SQL문은 다음과 같은 형식이다.  
```
SELECT 이름 FROM 회원 정보 테이블
```
<br>
이 예제에서는 열 이름과 테이블 이름이 한글이지만 일반적으로 시스템에서는 name 이나 accounts와 같이 영어를 사용  
WHERE 절로 조건을 지정해 원하는 데이터만을 얻을 수도 있음, 예를 들어 회원 ID가 003인 행의 이름 정보를 얻어야 할 때의 SQL문은 다음과 같다.  
```
SELECT 이름 FROM 회원 정보 테이블 WHERE 회원ID = '003'
```
<br>
열 이름은 '*' 라는 특수 문자를 지정해 전체 열의 정보를 얻을 수 있음  
```
SELECT * FROM 회원 정보 테이블 WHERE 회원ID = '003'
```
<br>
데이터 추가나 업데이트, 삭제도 SQL문을 사용해 실행됨  


## * 데이터 불일치를 없애기 위한 ACID 특성

관계형 데이터베이스의 특징 중 하나로 **ACID**가 있음  
이는 원자성(Atomicity), 일관성(Consistency), 독립성(Isolation), 지속성(Durability)의 앞 글자를 합친 것, 데이터베이스에서 수행하는 일련의 처리를 **트랜잭션**라고 부름  
이 트랜잭션 단위가 ACID 특성을 갖는다.  
예를 들어 은행 계좌의 예금 인출에 대해 시스템적으로는 두 가지 처리를 함  
* 1) 지정한 금액을 인출
* 2) 예금 잔액 데이터 갱신

1)의 처리만 됐는데 처리가 중단되면 예금은 인출됐지만 잔액이 변하지 않으므로 큰 문제가 됨  
따라서 1), 2) 모두 실행하거나 어느 쪽도 실행되지 않게 해야 함  
이처럼 데이터나 처리의 불일치가 발생하지 않게 하려고 ACID 특성이 사용 됨  

1. 원자성 (Atomicity)  
트랜잭션은 모두 실행되거나 실행되지 않아야 한다는 특성  

2. 일관성 (Consistency)  
정해진 데이터베이스의 규칙을 만족해야 한다는 특성  
가령 고객 이름을 반드시 입력하게끔 데이터베이스를 설정했으나 이름 없는 고객이 추가된다면 일관성을 위반하는 것  

3. 독립성 (Isolation)  
트랜잭션을 단독으로 실행할 때나 동시에 여러 개를 실행할 때 결과가 같아야 한다는 특성  
각 트랜잭션은 고립(격리)돼 있어 연속으로 실행된 것과 동일해야 함, 이때 데이터베이스 상태도 동일해야 함  

4. 지속성 (Durability)  
하드웨어 등 장애가 있어도 완료된 트랜잭션의 결과는 손실되지 않아야 한다는 특성  
즉, 해당 트랜잭션에 대한 로그가 남아 있어야 함  



> 참고 : 그림과 작동 원리로 쉽게 이해하는 AWS 구조와 서비스