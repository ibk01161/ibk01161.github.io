---
layout: single
title:  "[CHAP5] 네트워크 및 콘텐츠 전송 서비스 - 2"
categories: AWS
---

# 02. Amazon VPC로 가상 네트워크 만들기

## * 가상 네트워크 Amazon VPC

**Amazon Virtual Private Cloud(VPC)** 는 AWS에서 생성할 수 있는 프라이빗 가상 네트워크 공간, 이 네트워크에 EC2와 같은 AWS 자원을 배치해 이용  
하나의 VPC를 논리적으로 나눠 분리할 수도 있고, 여러 VPC를 연결할 수도 있음  
인터넷에 공개하는 **퍼블릭 VPC**나 VPN(Virtual Private Network - 가상 사설 네트워크) 등을 이용해 접속하는 **프라이빗 VPC**도 구축할 수 있음  
온프레미스로 네트워크 환경을 구축하는 경우 데이터 센터, 네트워크 기기나 서버 기기, 인터넷 회선 등 준비해야 할 것이 많아 준비 기간과 초기 비용이 발생  
반면 AWS에서 VPC를 네트워크 환경으로 준비하는 경우 몇 가지 작업을 수행하면 **몇 분 안에 네트워크를 구축할 수 있음**  
VPC를 만들 때 **CIDR 블록**(IP 주소 범위)을 지정하고 지정한 CIDR 블록 네트워크를 확보  
예를 들어 **10.0.0.0/16을 지정하면 65,536개의 IP 주소를, 10.0.0/28을 지정하면 16개의 IP 주소** 를 사용할 수 있음
**VPC는 일반적으로 프라이빗 IP 주소를 사용** (AWS 권고 사항)  
임의의 퍼블릭 IP 범위에서 CIDR 블록을 지정할 수 있지만, 외부 퍼블릭 IP와 겹치면 통신할 수 없으므로 기본적으로 프라이빗 IP 주소 공간을 CIDR 블록에 지정하는 것이 좋음  
온프레미스 환경이나 다른 VPC 등 외부 네트워크와의 접속을 검토하고 있다면 **접속할 네트워크와 VPC의 CIDR 블록이 중복되지 않게 주의** 해야 함  
**호스트 주소는 여유를 갖도록 가능한 많이 확보** 해두는 것이 좋음  


## * VPC 및 서브넷 생성

VPC는 EC2 및 기타 AWS 서비스와 마찬가지로 AWS Management Console(GUI) 또는 API를 사용해 생성할 수 있음  
관리 콘솔에서 생성하는 경우 'VPC 이름, CIDR 블록. IPv6 설정, 태넌시' 항목들을 설정해야 함  
EC2보다 적은 설정 항목으로 즉시 가상 네트워크를 만들 수 있음, IPv6 설정은 기본적으로 비활성화돼 있으며 필요에 따라 설정할 수 있음  
태넌시는 라이선스 및 보안 요구 사항으로 하드웨어를 독점하려는 경우에만 독점 옵션을 지정함  
VPC만으로는 EC2와 같은 자원을 네트워크에 만들 수 없음, **VPC 안에 더 작은 네트워크 단위인 서브넷을 만들어야 함**  
서브넷은 하나의 AZ에 속해야 하며 여러 AZ에 걸쳐 있을 수 없음, 즉 여러 AZ에 자원을 배치해 가용성을 높이려면 서브넷도 여러 개 만들어야 함  
서브넷에는 생성할 VPC의 CIDR 블록 범위 내에서 CIDR블록을 지정해야 함  
예를 들어 VPC의 CIDR 블록이 10.0.0.0/16인 경우 10.0.0.0/24와 같이 CIDR 블록을 지정함  


> 참고 : 그림과 작동 원리로 쉽게 이해하는 AWS 구조와 서비스